
////////////////////////////////////////////////////////////////////////////////
//
//  Copyright (c) 2017, Perry L Miller IV
//  All rights reserved.
//
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//
//  Team module.
//
////////////////////////////////////////////////////////////////////////////////

"use strict";

var Functions = require ( "../../Util/Functions" );

var assert = require ( "assert" );
var lodash = require ( "lodash" );


////////////////////////////////////////////////////////////////////////////////
//
//  Team class.
//
////////////////////////////////////////////////////////////////////////////////

var Team = function ( input )
{
  var name = input.name;
  assert ( lodash.isString ( name ) );
  assert ( name.length > 0 );

  this._id = Functions.getNextCounter();
  this._name = name;
  this._players = {};
};


////////////////////////////////////////////////////////////////////////////////
//
//  Add the player.
//
////////////////////////////////////////////////////////////////////////////////

Team.prototype.addPlayer = function ( player )
{
  var players = this._players;

  var id = player.id;
  assert ( lodash.isSafeInteger ( id ) );
  assert ( !( id in players ) );

  players[id] = player;
  player._setTeam ( this );
};


////////////////////////////////////////////////////////////////////////////////
//
//  The end of the module.
//
////////////////////////////////////////////////////////////////////////////////

module.exports =  Team;
